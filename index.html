<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>B·∫°n c√≥ xinh kh√¥ng?</title>
  <style>
    :root { --btn-size: 56px; }
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; }
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      display: grid;
      place-items: center;
      background: #fff;
      overflow: hidden; /* ƒë·ªÉ tim r∆°i v√¥ h·∫°n m√† kh√¥ng c√≥ thanh cu·ªôn */
    }
    .wrap {
      position: relative;
      text-align: center;
      padding: 24px;
    }
    h1 { margin: 0 0 16px; font-size: 28px; }
    .actions { display: inline-flex; gap: 12px; }
    button {
      min-width: 80px; height: var(--btn-size);
      padding: 0 16px; border-radius: 999px; border: 0; cursor: pointer;
      font-size: 18px; font-weight: 600;
      background: #111; color: #fff;
      transition: transform .08s ease;
      position: relative;
    }
    button:active { transform: scale(0.97); }
    #noBtn.moving { position: fixed; z-index: 3; }
    #msg { margin-top: 16px; font-size: 22px; font-weight: 700; }

    /* Tim r∆°i */
    .heart {
      position: fixed;
      top: -10vh;
      left: 0;
      font-size: 16px;
      line-height: 1;
      animation-name: fall;
      animation-timing-function: linear;
      animation-iteration-count: 1;
      user-select: none;
      pointer-events: none;
      will-change: transform, opacity;
    }
    @keyframes fall {
      0%   { transform: translateY(-10vh) rotate(0deg); opacity: 0; }
      5%   { opacity: 1; }
      100% { transform: translateY(120vh) rotate(360deg); opacity: 0.9; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>B·∫°n c√≥ xinh kh√¥ng?</h1>
    <div class="actions">
      <button id="yesBtn">C√≥</button>
      <button id="noBtn">Kh√¥ng</button>
    </div>
    <div id="msg" aria-live="polite"></div>
  </div>

  <script>
    // √Çm thanh "p√≠ng pong" b·∫±ng Web Audio (2 ti·∫øng b√≠p kh√°c cao ƒë·ªô)
    function playPingPong() {
      const AudioCtx = window.AudioContext || window.webkitAudioContext;
      const ctx = new AudioCtx();
      const now = ctx.currentTime;
      const gain = ctx.createGain();
      gain.connect(ctx.destination);
      gain.gain.setValueAtTime(0.0001, now);

      // tone 1
      const osc1 = ctx.createOscillator();
      osc1.type = 'sine';
      osc1.frequency.setValueAtTime(900, now);
      osc1.connect(gain);
      gain.gain.exponentialRampToValueAtTime(0.4, now + 0.01);
      gain.gain.exponentialRampToValueAtTime(0.001, now + 0.16);
      osc1.start(now);
      osc1.stop(now + 0.16);

      // tone 2 (pong) sau 120ms
      const osc2 = ctx.createOscillator();
      osc2.type = 'sine';
      osc2.frequency.setValueAtTime(1200, now + 0.18);
      osc2.connect(gain);
      gain.gain.setValueAtTime(0.0001, now + 0.18);
      gain.gain.exponentialRampToValueAtTime(0.45, now + 0.19);
      gain.gain.exponentialRampToValueAtTime(0.001, now + 0.36);
      osc2.start(now + 0.18);
      osc2.stop(now + 0.36);

      // auto close context ƒë·ªÉ ti·∫øt ki·ªám t√†i nguy√™n
      setTimeout(() => ctx.close(), 500);
    }

    const yesBtn = document.getElementById('yesBtn');
    const noBtn  = document.getElementById('noBtn');
    const msg    = document.getElementById('msg');

    yesBtn.addEventListener('click', () => {
      msg.textContent = 'ƒë√∫ng roiii';
      playPingPong();
    });

    // Khi c·ªë ch·ªçn "Kh√¥ng" th√¨ n√≥ ch·∫°y sang ch·ªó kh√°c
    function moveNoButton() {
      if (!noBtn.classList.contains('moving')) {
        noBtn.classList.add('moving');
      }
      const pad = 10; // l·ªÅ ƒë·ªÉ kh√¥ng ch·ªách m√†n h√¨nh
      const maxX = Math.max(0, window.innerWidth - noBtn.offsetWidth - pad);
      const maxY = Math.max(0, window.innerHeight - noBtn.offsetHeight - pad);
      const x = Math.floor(Math.random() * (maxX + 1));
      const y = Math.floor(Math.random() * (maxY + 1));
      noBtn.style.left = x + 'px';
      noBtn.style.top  = y + 'px';
    }

    noBtn.addEventListener('mouseenter', moveNoButton);
    noBtn.addEventListener('click', (e) => {
      e.preventDefault();
      moveNoButton();
    });

    // Hi·ªáu ·ª©ng tr√°i tim r∆°i xu·ªëng v√¥ h·∫°n
    const hearts = ['‚ù§','üíñ','üíó','üíì','üíû','üíï'];
    function spawnHeart() {
      const h = document.createElement('div');
      h.className = 'heart';
      h.textContent = hearts[Math.floor(Math.random()*hearts.length)];
      const size = 12 + Math.random() * 28; // 12‚Äì40px
      h.style.fontSize = size + 'px';
      h.style.left = Math.random() * 100 + 'vw';
      const dur = 6 + Math.random() * 8; // 6‚Äì14s
      h.style.animationDuration = dur + 's';
      document.body.appendChild(h);
      // Xo√° khi r∆°i xong ƒë·ªÉ kh√¥ng b·ªã ƒë·∫ßy DOM
      h.addEventListener('animationend', () => h.remove());
    }

    // t·∫°o li√™n t·ª•c, nh∆∞ng ti·∫øt ki·ªám t√†i nguy√™n
    setInterval(spawnHeart, 220);
  </script>
</body>
</html>
